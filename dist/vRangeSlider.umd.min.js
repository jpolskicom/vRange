(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vRangeSlider"]=t():e["vRangeSlider"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="e398")}({"6b8a":function(e,t,r){},cac4:function(e,t,r){"use strict";r("6b8a")},cd92:function(e,t,r){var n,a,i;(function(r,s){a=[],n=s,i="function"===typeof n?n.apply(t,a):n,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var r,n,a,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,l=i.exec(h.stack)||s.exec(h.stack),o=l&&l[1]||!1,u=l&&l[2]||!1,d=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");o===d&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),a=r.replace(n,"$1").trim());for(var p=0;p<c.length;p++){if("interactive"===c[p].readyState)return c[p];if(c[p].src===o)return c[p];if(o===d&&c[p].innerHTML&&c[p].innerHTML.trim()===a)return c[p]}return null}}return e}))},e398:function(e,t,r){"use strict";if(r.r(t),r.d(t,"RangeSlider",(function(){return p})),"undefined"!==typeof window){var n=window.document.currentScript,a=r("cd92");n=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a});var i=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(r.p=i[1])}var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"rangeSlider",staticClass:"c-rangeSlider"},[r("div",{staticClass:"c-rangeSlider__labelFrom"},[e._v(" "+e._s(e.label[0])+" ")]),r("div",{staticClass:"c-rangeSlider__wrap"},[r("div",{staticClass:"c-rangeSlider__track"}),r("div",{staticClass:"c-rangeSlider__bar"}),r("div",{staticClass:"c-rangeSlider__mid",style:{left:e.params.middlePrecentage+"%"}}),e._l(e.value,(function(t,n){return[r("div",{key:"h"+n,staticClass:"c-rangeSlider__handle",attrs:{draggable:"false"}}),r("div",{key:"i"+n,staticClass:"c-rangeSlider__handleInput"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.params.inputValue[n],expression:"params.inputValue[key]"}],attrs:{type:"number",min:n-1<!0?e.params.values[n-1]:e.range[0],max:n+1<e.params.inputValue.length?e.params.values[n+1]:e.range[1]},domProps:{value:e.params.inputValue[n]},on:{input:[function(t){t.target.composing||e.$set(e.params.inputValue,n,t.target.value)},function(t){return e.setHandleByInput()}]}}),e._v(" "+e._s(e.unit)+" ")])]})),e.showSteps?r("div",{staticClass:"c-rangeSlider__steps"},e._l(e.steps,(function(e){return r("div",{key:"step"+e,staticClass:"c-rangeSlider__step"})})),0):e._e()],2),r("div",{staticClass:"c-rangeSlider__labelTo"},[e._v(" "+e._s(e.label[1])+" ")])])},l=[],o={components:{Input:Input},data(){return{slider:null,sliderTrack:null,sliderBar:null,sliderHandlers:null,sliderInputs:null,timer:null,params:{precentage:[],middlePrecentage:50,inputValue:[],values:[],dragging:[!1,!1]}}},props:{value:{type:Array,default:()=>[0,100]},label:{type:Array,default:()=>["from","to"]},unit:{type:String,default:()=>"PLN"},range:{type:Array,default:()=>[0,100]},step:{type:Number,default:()=>1},showSteps:{type:Boolean,default:()=>!1},lazy:{type:Number,default:()=>500},logarithmic:{type:Boolean,default:()=>!1}},computed:{steps(){return(this.range[1]-this.range[0])/this.step}},methods:{addEventsToHandlers(){this.sliderHandlers.forEach((e,t)=>{e.addEventListener("mousedown",()=>this.params.dragging[t]=!0,!1),this.slider.addEventListener("mouseup",()=>this.params.dragging[t]=!1,!1),this.slider.addEventListener("mousemove",e=>{this.params.dragging[t]&&this.handleDragging(e,t)},!1)});const e=this.slider.querySelector(".c-rangeSlider__wrap");e.addEventListener("click",this.handleClick)},handleDragging(e,t){let r=this.getPrecentageFromTrack(e.clientX);this.params.inputValue=[...this.params.values],this.setHandlePosition(r,this.sliderHandlers[t],t)},handleClick(e){let t=this.getPrecentageFromTrack(e.clientX);this.params.inputValue=[...this.params.values];let r=t>this.params.middlePrecentage?1:0;this.setHandlePosition(t,this.sliderHandlers[r],r)},getPrecentageFromTrack(e){let t=this.sliderTrack.getBoundingClientRect(),r=e-t.left,n=Math.round(100*r/t.width);return n},getPrecentageFromValue(e){let t=Math.round(100*e/this.range[1]);return t},getValue(e){let t=this.logarithmic?Math.round(e*(Math.log(e+1)/Math.log(100))):e;return Math.round(this.range[1]*(t/this.steps))},setHandleByInput(){this.params.inputValue.forEach((e,t)=>{this.setHandlePosition(this.getPrecentageFromValue(e),this.sliderHandlers[t],t)})},setHandlePosition(e,t,r){let n=this.params.precentage[r-1]?this.params.precentage[r-1]:0,a=this.params.precentage[r+1]?this.params.precentage[r+1]:100;e>=0&&e<=100&&e>=n&&e<=a&&(t.style.left=e+"%",this.params.precentage[r]=e,this.params.values[r]=this.getValue(e),this.setBarPosition())},initHandlesPositions(){this.params.precentage=this.value.map(e=>this.getPrecentageFromValue(e)),this.params.precentage.forEach((e,t)=>this.setHandlePosition(e,this.sliderHandlers[t],t)),this.params.values=this.value,this.params.inputValue=[...Object.values(this.params.values)]},setBarPosition(){this.sliderBar.style.left=this.params.precentage[0]+"%",this.sliderBar.style.right=100-this.params.precentage[1]+"%",this.params.middlePrecentage=(this.params.precentage[1]+this.params.precentage[0])/2}},watch:{params:{handler(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{this.$emit("change",Object.values(this.params.values))},this.lazy)},deep:!0},value:{handler(){this.value[0]==this.params.values[0]&&this.value[1]==this.params.values[1]||this.initHandlesPositions()},deep:!0},range:{handler(){this.initHandlesPositions()},deep:!0}},mounted(){this.slider=this.$refs.rangeSlider,this.sliderTrack=this.slider.querySelector(".c-rangeSlider__track"),this.sliderBar=this.slider.querySelector(".c-rangeSlider__bar"),this.sliderHandlers=this.slider.querySelectorAll(".c-rangeSlider__handle"),this.sliderInputs=this.slider.querySelectorAll(".c-rangeSlider__input"),this.initHandlesPositions(),this.addEventsToHandlers()}},u=o;r("cac4");function d(e,t,r,n,a,i,s,l){var o,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(o=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=o):a&&(o=l?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),o)if(u.functional){u._injectStyles=o;var d=u.render;u.render=function(e,t){return o.call(t),d(e,t)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,o):[o]}return{exports:e,options:u}}var c=d(u,s,l,!1,null,null,null),p=c.exports}})}));
//# sourceMappingURL=vRangeSlider.umd.min.js.map